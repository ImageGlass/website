{"version":3,"file":"pageReleaseDetail.js","mappings":"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","sources":["webpack://ig-ui/webpack/universalModuleDefinition","webpack://ig-ui/webpack/bootstrap","webpack://ig-ui/webpack/runtime/make namespace object","webpack://ig-ui/./src/js/modules/grid-gallery.ts","webpack://ig-ui/./src/js/pages/pageReleaseDetail.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ig-ui\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ig-ui\"] = factory();\n\telse\n\t\troot[\"ig-ui\"] = factory();\n})(this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\r\nexport class GridGallery {\r\n  #selector = '';\r\n  #currentIndex = 0;\r\n  #animationDuration = 500;\r\n  #galleryItemEls: HTMLElement[] = [];\r\n  #galleryEl: HTMLElement;\r\n\r\n  constructor(selector = '.grid-gallery') {\r\n    this.#selector = selector;\r\n    this.#galleryEl = document.querySelector(this.#selector);\r\n\r\n    if (!this.#galleryEl) {\r\n      throw new Error(`Cannot find element: '${this.#selector}'`);\r\n    }\r\n\r\n    this.#galleryItemEls = Array.from(this.#galleryEl.querySelectorAll<HTMLElement>('.gallery-item'));\r\n\r\n\r\n    this.initViewer = this.initViewer.bind(this);\r\n    this.openContent = this.openContent.bind(this);\r\n    this.handleGalleryItemClick = this.handleGalleryItemClick.bind(this);\r\n    this.handleCloseButtonClick = this.handleCloseButtonClick.bind(this);\r\n    this.handleNextButtonClick = this.handleNextButtonClick.bind(this);\r\n    this.handleBackButtonClick = this.handleBackButtonClick.bind(this);\r\n    this.handleKeyUp = this.handleKeyUp.bind(this);\r\n  }\r\n\r\n  /**\r\n   * Start Grid Gallery viewer\r\n   */\r\n  initViewer() {\r\n    this.#galleryItemEls.forEach((item, index) => {\r\n      item.setAttribute('data-index', index.toString());\r\n      item.addEventListener('click', this.handleGalleryItemClick, false);\r\n    });\r\n  }\r\n\r\n\r\n  /**\r\n   * Show the content\r\n   */\r\n  openContent(step = 0) {\r\n    const viewer = document.querySelector('.grid-gallery-viewer');\r\n    let newIndex = this.#currentIndex + step;\r\n\r\n\r\n    // view next\r\n    if (step > 0) {\r\n      if (newIndex > this.#galleryItemEls.length - 1) {\r\n        newIndex = 0;\r\n      }\r\n\r\n      // animation: hide old content\r\n      viewer.classList.add('closeViewer_Next');\r\n    }\r\n    // view back\r\n    else if (step < 0) {\r\n      if (newIndex < 0) {\r\n        newIndex = this.#galleryItemEls.length - 1;\r\n      }\r\n\r\n      // animation: hide old content\r\n      viewer.classList.add('closeViewer_Back');\r\n    }\r\n    // no change, refresh\r\n    else {\r\n      // animation: hide old content\r\n      viewer.classList.add('closeViewer');\r\n    }\r\n\r\n    // update new index\r\n    this.#currentIndex = newIndex;\r\n\r\n    // new content\r\n    const clonedEl = this.#galleryItemEls[this.#currentIndex].cloneNode(true) as HTMLElement;\r\n    const content = clonedEl.innerHTML;\r\n\r\n    setTimeout(() => {\r\n      viewer.classList.remove('closeViewer', 'closeViewer_Next', 'closeViewer_Back');\r\n\r\n      // view next\r\n      if (step > 0) {\r\n        // animation: hide old content\r\n        viewer.classList.add('openViewer_Next');\r\n      }\r\n      // view back\r\n      else if (step < 0) {\r\n        // animation: hide old content\r\n        viewer.classList.add('openViewer_Back');\r\n      }\r\n      // no change, refresh\r\n      else {\r\n        // animation: hide old content\r\n        viewer.classList.add('openViewer');\r\n      }\r\n\r\n      // load content to the viewer\r\n      const viewerBody = viewer.querySelector('.viewer-body');\r\n      viewerBody.innerHTML = content;\r\n\r\n      // prevent viewer closed when clicking the content\r\n      const bodyContentEl = viewerBody.querySelector(':first-child');\r\n      bodyContentEl.addEventListener('click', (e) => {\r\n        e.stopImmediatePropagation();\r\n      }, false);\r\n\r\n      setTimeout(() => {\r\n        viewer.classList.remove('openViewer', 'openViewer_Next', 'openViewer_Back');\r\n      }, this.#animationDuration);\r\n\r\n    }, this.#animationDuration);\r\n  }\r\n\r\n\r\n  /**\r\n   * Event: gallery item click\r\n   * @param {Event} e \r\n   */\r\n  handleGalleryItemClick(e: Event) {\r\n    // console.log(e.currentTarget)\r\n    this.#currentIndex = parseInt((e.currentTarget as HTMLElement).getAttribute('data-index'));\r\n    // console.log(this.currentIndex)\r\n\r\n    // back button\r\n    const navBack = document.createElement('span');\r\n    navBack.classList.add('viewer-nav-back');\r\n    navBack.title = 'Previous';\r\n    navBack.addEventListener('click', this.handleBackButtonClick, false);\r\n\r\n    // next button\r\n    const navNext = document.createElement('span');\r\n    navNext.classList.add('viewer-nav-next');\r\n    navNext.title = 'Next';\r\n    navNext.addEventListener('click', this.handleNextButtonClick, false);\r\n\r\n    // close button\r\n    const btnclose = document.createElement('span');\r\n    btnclose.classList.add('viewer-close');\r\n    btnclose.title = 'Close';\r\n    btnclose.addEventListener('click', this.handleCloseButtonClick, false);\r\n\r\n    // viewer body\r\n    const viewerBody = document.createElement('div');\r\n    viewerBody.classList.add('viewer-body');\r\n    viewerBody.addEventListener('click', this.handleCloseButtonClick, false);\r\n\r\n    // gallery viewer\r\n    const viewer = document.createElement('div');\r\n    viewer.classList.add('grid-gallery-viewer');\r\n    viewer.append(navBack);\r\n    viewer.append(viewerBody);\r\n    viewer.append(navNext);\r\n    viewer.append(btnclose);\r\n\r\n\r\n    document.body.classList.add('grid-gallery-viewer-open');\r\n    document.body.append(viewer);\r\n    document.addEventListener('keyup', this.handleKeyUp, false);\r\n\r\n    // open content\r\n    this.openContent();\r\n  }\r\n\r\n\r\n  /**\r\n   * Event: Close button click\r\n   */\r\n  handleCloseButtonClick() {\r\n    document.body.classList.remove('grid-gallery-viewer-open');\r\n    document.removeEventListener('keyup', this.handleKeyUp, false);\r\n\r\n    const viewer = document.querySelector('.grid-gallery-viewer');\r\n    if (viewer) {\r\n      viewer.classList.add('closing');\r\n\r\n      setTimeout(() => {\r\n        viewer.remove();\r\n      }, this.#animationDuration);\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n   * Event: Next button click\r\n   */\r\n  handleNextButtonClick() {\r\n    // open content\r\n    this.openContent(1);\r\n  }\r\n\r\n\r\n  /**\r\n   * Event: Back button click\r\n   */\r\n  handleBackButtonClick() {\r\n    // open content\r\n    this.openContent(-1);\r\n  }\r\n\r\n\r\n  /**\r\n   * Event key up\r\n   * @param {Event} e \r\n   */\r\n  handleKeyUp(e: KeyboardEvent) {\r\n    if (!e.ctrlKey && !e.shiftKey && !e.altKey && !e.metaKey) {\r\n\r\n      // NEXT key\r\n      if (e.key === 'ArrowRight') {\r\n        this.openContent(1);\r\n      }\r\n      // BACK key\r\n      else if (e.key === 'ArrowLeft') {\r\n        this.openContent(-1);\r\n      }\r\n      // ESC key\r\n      else if (e.key === 'Escape') {\r\n        this.handleCloseButtonClick();\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default { GridGallery };\r\n","import { GridGallery } from '../modules/grid-gallery';\r\n\r\n// load screenshot gallery\r\nconst gallery = new GridGallery('.grid-gallery');\r\ngallery.initViewer();\r\n\r\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","Symbol","toStringTag","Object","defineProperty","value","GridGallery","constructor","selector","document","querySelector","Error","Array","from","querySelectorAll","initViewer","bind","openContent","handleGalleryItemClick","handleCloseButtonClick","handleNextButtonClick","handleBackButtonClick","handleKeyUp","forEach","item","index","setAttribute","toString","addEventListener","step","viewer","newIndex","length","classList","add","content","cloneNode","innerHTML","setTimeout","remove","viewerBody","e","stopImmediatePropagation","parseInt","currentTarget","getAttribute","navBack","createElement","title","navNext","btnclose","append","body","removeEventListener","ctrlKey","shiftKey","altKey","metaKey","key"],"sourceRoot":""}